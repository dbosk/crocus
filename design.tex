\mode*

\section{Design}
\label{Design}

\dots

From a computational-complexity perspective, operations that must be done on 
the phone must be cheap, other operations may be expensive.

\subsection{Eligibility verifiability}

We have the five requirements for eligibility verifiability.

\subsubsection{Temporal eligibility}

One primitive that fulfils \cref{CreatedAfterStart,CreatedBeforeEnd} is a 
blockchain.
There are also other structures, e.g.\ a directed graph that 
converges~\cite{BlockchainFreeCryptocurrencies}.
For generality, we will use the terminology of 
\textcite{BlockchainFreeCryptocurrencies} and simply call this storage 
structure \iac{tposet}.

\begin{frame}<presentation>
\begin{idea}
  \begin{itemize}
    \item There is a mechanism that provides V\ref{CreatedAfterStart} and 
      V\ref{CreatedBeforeEnd}: a blockchain.

    \item There are also other structures, e.g.\ a directed 
      graph~\cite{BlockchainFreeCryptocurrencies}.

      \pause

    \item V\ref{SpatiallyRelated} can be provided by \iacf{LP}.
  \end{itemize}
\end{idea}
\end{frame}

\begin{frame}
  \begin{question}
    What about distributed voting/polling protocols?
    They must be complemented by time-stamping.
  \end{question}
  \begin{question}
    Can linear blockchains also fit in the framework of 
    \textcite{BlockchainFreeCryptocurrencies}?
    Can we generalize it?
  \end{question}
\end{frame}

\Cref{CreatedBeforeEnd} is straight-forward, Alice and Bob simply add their 
proofs to the \ac{tposet} \emph{in (time-wise) relation to the event}.
Then we know that they cannot have been created after the event.

\begin{frame}<presentation>
  \begin{solution}[V\ref{CreatedBeforeEnd} Created before end]
    \begin{itemize}
      \item Make the \ac{LP} part of the \ac{tposet}.
      \item The proof must've been created before it was included (duh!).
    \end{itemize}
  \end{solution}
\end{frame}

For \cref{CreatedAfterStart} Alice and Bob must include an unpredictable value 
in their proofs, e.g.\ the \enquote{head} of the \ac{tposet}.
This means that they cannot create a proof and keep it for a future protest.

They can use an older value (pick one from the history of the \ac{tposet}) when 
they create their proofs.
This will only expand the interval of possible creation into the past.
This will not help their cause, as anyone will recognize that the proof could 
be created at any time in that interval.

\begin{frame}
  \mode<presentation>{
  \begin{idea}[A\ref{CreatedAfterStart} Created after start]
    \begin{itemize}
      \item Include an unpredictable value in the \ac{LP}.
      \item This could be e.g.\ the hash of the \enquote{head} of the 
        \ac{tposet}.
      \item This prevents creating proofs for future protests.
    \end{itemize}
  \end{idea}
  }

  \pause

  \begin{question}
    How hard is it to reuse old proofs?
    Forge all signatures due to changed values?
  \end{question}
\end{frame}

\subsubsection{Spatial eligibility}

If we include \iac{LP}, this will tie the proof to the physical location and, 
thus, solve \cref{SpatiallyRelated}.
The \ac{LP} is \enquote{witnessed} (signed) by other participants.
The \ac{LP} contains coarse coordinates of the location, which must be within 
the protest area to be valid.
This allows Bob the protester to move within the protest area to collect 
witnesses (signatures).
It also provides privacy since the location cannot be used to deanonymize Bob's 
proof --- e.g.\ to correlate the location in his proof with captured 
surveillance footage.

\begin{frame}
  \mode<presentation>{
  \begin{idea}[A\ref{SpatiallyRelated} Correct location]
    \begin{itemize}
      \item The \ac{LP} is \enquote{witnessed} (signed) by other participants.
      \item We have a coarse location, just within protest area.
      \item This allows protesters to move around to collect signatures.
      \item This provides privacy for the location, e.g.\ cannot map to 
        surveillance cameras.
    \end{itemize}
  \end{idea}
  }

  \pause

  \begin{question}
    How can we do \acp{LP} with 1000s of witnesses each?
    Can we do some preprocessing?
    Ad-hoc networks, broadcast \acp{LP}?
  \end{question}
  \begin{question}
    Why should anyone trust these witnesses?
    What are the assumptions?
    Signed over a short period of time?\footnote{%
      In a sense, if they collude they have shown support for the cause.
      As long as they are not Sybil it should be fine?
    }
  \end{question}
  \begin{question}
    Trusted party for the group signatures?
  \end{question}
  \begin{question}
    Must tie credentials to something unique: phone, phone subscription?
    Cannot register twice, government control?
  \end{question}
\end{frame}

\subsubsection{Count only once}

We also need to ensure that proofs made by the same person must be linkable 
(\cref{UniqueIndividual}).

\begin{frame}
  \begin{question}
    How to solve the Sybil problem?
    Can we piggyback on existing \acp{PKI}?
    E.g.~\cite{Cinderella}.
  \end{question}
  \begin{question}
    This is similar to the double-spending problem for cryptocurrencies, can 
    we reuse any such techniques?
    Specifically ecash~\cite{ecash} and the like.
  \end{question}
\end{frame}

\subsubsection{Designated event}

We must ensure that the data is designated to the event 
(\cref{DesignatedEvent}), otherwise a counter-protest can copy the proofs and 
reuse them.

\begin{frame}
  \begin{question}
    How to designate a proof to an event?
    Include an event specific value?
  \end{question}
  \begin{question}
    How must this value be chosen?
    By the organizer?
    Randomly?
    Deterministically but unpredictably?
  \end{question}
\end{frame}

\subsection{Privacy}

\subsubsection{Architecture}

\begin{frame}
  \begin{question}
    Shall we offer a platform that is run by a variety of institutions who 
    offers to verify protests?
    Or go strictly peer-to-peer?
  \end{question}
  \begin{question}
    If strictly peer-to-peer, and only run by protesters, one can infer that 
    they are protesters by running such a node.
    Can this be mitigated?
  \end{question}
\end{frame}

\subsubsection{Storage}

\begin{frame}
  \begin{question}
    How do we submit the proofs to storage?
    Voting normally uses mix-nets.
    Submit over Tor~\cite{Tor}?
  \end{question}

  \mode<presentation>{
  \begin{remark}
    Without anonymous submission we don't get vote privacy, thus no receipt 
    freeness either.
  \end{remark}
  }
\end{frame}

\begin{frame}
  \begin{question}
    Malicious nodes want to provide Alice with a view that her proof is 
    included.
    Everyone else is provided a view without Alice.
    How can we ensure a consistent view for everyone?
    (Probably similar to the solution in Joakim's thesis.)
  \end{question}

  \begin{question}
    Under the protest conditions, we might have natural network splits.
    Is this a useful scenario?
  \end{question}

  \begin{question}
    How can we do blockchain branch and merge?
    That is needed to recover from the above attack.
  \end{question}
\end{frame}

\begin{frame}
  \begin{question}
    What can we achieve with a consensus protocol?
    Majority must be honest?
  \end{question}
  \begin{question}
    What is a suitable proof-of-work?
    See e.g.~\cite{FairProofOfWork}.
  \end{question}
\end{frame}

\subsubsection{Sybil}

So Alice needs a long-term and a short-term credential, but she should not be 
able to create two short-term credentials to participate twice.

\begin{frame}
  \begin{question}
    Will such a signature scheme solve both problems?
  \end{question}
  \begin{question}
    Is there such a signature scheme?
    Can we construct it?
  \end{question}
  \begin{question}
    What Alice submits her proof, stores the hash of the block, removes proof 
    and signature key?
  \end{question}
\end{frame}

