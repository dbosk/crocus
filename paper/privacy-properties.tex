\subsection{Privacy requirements}%
\label{privacy-properties}

In addition to the verification requirements, we also need to define the privacy properties.
In voting protocols, there are mainly three levels of 
privacy~\cite{VerifyingPrivacyPropertiesOfVotingProtocols}:
\begin{description}
  \item[Vote privacy:] the voting does not reveal any individual vote.
  \item[Receipt freeness:] the voting system does not provide any data that can be used as a proof of how the voter voted.
  \item[Coercion resistance:] a voter cannot cooperate with a coercer to prove that his vote was cast in any particular way.
\end{description}

Coercion resistance is not possible to achieve for protests.
For instance, someone could simply physically bring Alice to a protest against her will.
Receipt freeness is not \emph{always} desirable.
For instance, the participation proof might be useful to prove presence to a third party, \eg for strengthening the authenticity of witness information.
%Seb: the above sentence seems to contradict the property of coercion-resistance

Thus privacy remains.
For the protester we want unlinkability between a protester's real identity \(P\) and the cause identifier \(\cid\) against the adversary.
Given a participation proof, Grace should not be able to distinguish if it belongs to Alice or Bob.
Furthermore, if Grace has managed to link one proof to Alice's through some auxiliary knowledge, she should not be able to link another proof (\eg, from a different protest) as a consequence.

For the witness, we want unlinkability between a witness's identity \(W\) and a location \(l\) against an adversary who is not present in the location.
Due to the limitations of physical space, two individuals present in the same location will inevitably learn of each other's presence.
Thus, we will only try to prevent individuals who are not present on the scene to learn this information.

\sonja{new}
To contrast the difference between our context and e-voting: physical presence means support for a cause if there is only one protest. 
In case of a counterprotest, physical presence with that group means support for the counterprotest. 
In our system, it gets more ambiguous as the participants are counted if all of the following is true
\begin{enumerate*}
\item they participate in the protocol,
\item they use the protest identifier (\ie cause) for which the count is done,
\item they meet the eligibility criteria, and
\item they receive enough proof shares,
\item that are uploaded to the ledger.
\end{enumerate*}
To summarize, one could participate in a protest and be counted even when physically present at a counter-protest if the two protests are co-located and the participant chooses the corresponding cause/identifier of the original protest.

%Seb: I have put all this part in comment to (1) save on space and (2) also because there is a paper at CCS 2018 that actually shows that individual verifiability is needed to have privacy for e-voting (I agree that it does not mean that it is necessarily the case in our setting) 
%Given that all conditions for being counted in a protest are met, individual verifiability implies a receipt \daniel{no, I know my proof is included in 
% block 0xdeadbeef in the blockchain, so as long as 0xdeadbeef is there I'm 
% sure my block is counted (individual verifiability); but if I give 0xdeadbeef 
% to you, you cannot know for sure if 0xdeadbeef says anything or I made it up, 
% hence receipt-freeness} because being counted implies support for a cause. 
%This also means that besides physical force, coercion can happen by forcing the 
%participate to show a receipt. \daniel{The only receipt we have is the private 
% key of the protester, with that key the adversary can compute \(\pid = 
%   \ACprf[_k][\cid]\) and check that \(\pid\) is indeed in the ledger.}
%We thus have to decide between individual verifiability and the privacy 
%properties for e-voting or define privacy properties suitable for the scenario. 
%Seb: below I would use the term unobservability, rather than unlinkability
%The ultimate privacy requirement is thus stronger here: in contrast to voting, in which it is the content of the vote itself that needs to be unlinkable to the voter, here the fact of having cast a vote at all needs to be unlinkable.

The privacy properties we need in this context are the following:
\begin{description}
%Seb: while not use the term anonymity instead of unlinkability?
\item[Involuntary participant unlinkability:] \daniel{the name has a 
     double-negative ring to me} unless the participant discloses the receipt 
   (by revealing her identity), there is no link between the protest data on 
   the ledger and the identity of the participant.
%Seb: same comment as above
 \item[Involuntary witness unlinkability:] \daniel{and double-negative here 
     too of course} unless the witness discloses the receipt (by revealing her 
   identity), there is no link between the protest data on the ledger and the 
   identity of the witness.
\end{description}
\sonja{old}
In essence, receipt freeness means that upon completing the protocol, Grace cannot link Alice to her participation proof --- even if she were to compromise Alice's device or Alice accepts to collaborate with Grace.
As we will see, if Grace gets Alice's device, she can re-do the computations on the same inputs.
Since, in our case, the algorithms are deterministic and collisions are negligible, she will produce the same output and can thus conclude that Alice is indeed the one she is looking for.
Thus, we cannot provide receipt freeness (see \cref{Conclusion} for further discussions on this issue).

%Seb: maybe this sentence should be put before the definition of the properties
As a consequence, this leaves us with with what would correspond to vote privacy.
In particular, we need unlinkability between Alice's long-term identity and Alice's participation proof.

We can thus summarize the desired privacy properties as follows:
\begin{requirements}[P]
\item\label{ProofUnlink} \emph{Anonymity}: participants' real (long-term) 
  identities must be unlinkable to their proofs.
\item\label{ProtestUnlink} \emph{Unlinkability}: protesters' proofs must be 
  unlinkable between protests and witnesses' proofs must be unlinkable between 
  protesters.
\end{requirements}

As a result of these properties, if there are two protests in parallel (\eg, one against Grace's regime and one in favor) Alice can always argue to be part of the protest in Grace's favor instead of any protest against Grace.
This is, in fact, a slight increase in privacy over ordinary protests.