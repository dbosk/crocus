\section{System model}%
\label{SystemModel}

\subsection{What is \protect\emph{a} protest?}%
\label{WhatIsAProtest}

Protests can vary considerably.
To be able to estimate the participation count for one, we first need to define
what should be counted.

Let us start by considering some examples.
During the demonstrations against the South Korean president in Seoul
\blockcquote{2016DemonstrationsInSeoul}{%
  \textins*{t}he rallies stretch\textins{ed} from midday to late night --- some 
  people stay\textins{ed} for several hours, others just several minutes%
}.
These rallies were all in the same location in the capital and repeated every 
weekend for the duration of a few weeks.
The Women's Marches~\cite{2017WomensMarchesInUS}, on the other hand, occurred 
in parallel in many locations.
We also have the Venezuelan demonstrations where
\blockcquote{2017VenezuelaProtestFrequency}{%
  anti-government demonstrators have staged daily protests across Venezuela%
} while
\blockcquote{AlJazeeraOnVenezuela2017}{%
  pro-government workers sang and danced as they staged a rival march to show 
  their support for the president's controversial plan to rewrite the 
  constitution%
}.
Judging from these examples, the minimal common part is the cause,%
\label{CauseIsTheCommonDenominator}
but there is also a location (or area) that varies over time.

The organizer Alice want to count everyone who participated at any time and in 
any of the locations~\cite{2016DemonstrationsInSeoul}.
(Whereas police are only interested in the maximum crowd at any point in time, 
to deploy enough personnel for crowd-control.)
We will define a protest as an event that is uniquely identified by its cause 
(\(id\) below), its time interval (\(t\)) and its location (area \(l\)).
More specifically, we will use the following definition.

\begin{definition}[Protest]\label{DefProtest}
  A \emph{subprotest} is a tuple \((cid, t, l)\) where
  \(cid\in \Z_{2^\lambda}\) is the cause\footnote{%
    I.e.\ the cause of the protest.
  } identifier,
  \(t = \interval{t_s}{t_e}\subseteq \R\) is a time interval and
  \(l = N_\epsilon(x, y)\subseteq \R^2\) is the location (an 
  \(\epsilon\)-neighbourhood of \((x,y)\)).
  A \emph{protest} is a set of subprotests sharing the same \(id\).
\end{definition}

The protests described above can be captured using this definition by splitting 
them up into subprotests.
Each subprotest will then be captured by our definition and to find the total 
we can just sum up the results.
The same for marches, the marching path can be divided into subprotests with 
locations (or areas) that slightly overlap.

\subsection{What is a proper count?}

Each participant who want to be counted must submit a participation proof.
The proof must be associated with the protest, i.e.\ its identifier \(cid\), 
time and location must coincide with any of its subprotests.
We use witnesses to associate the proof to the location by creating a proof 
share.
% XXX what is a witness?
A witness is only allowed to create one proof share per protester.
The proof and its proof shares are stored in a set, as there should be only 
unique proof shares.

\begin{definition}[Participation-proof share]
  A \emph{participation-proof share} \(w = (pid, cid, t, l, wid)\) is a tuple 
  where
  \(cid, t, l\) are as in \cref{DefProtest},
  \(pid\) is unique for a protester--\(cid\) pair, and
  \(wid\) is unique for a witness--protester pair.
  We let \(W\) be the set of all proof shares.
\end{definition}

A subset of the proof shares forms a participation proof for a protester.

\begin{definition}[Participation proof]
  A \emph{participation proof} of protester \(i\) participating in protest \(j\) 
  is the set
  \begin{multline}
    \nonumber
    p_{i, j} =
    \left\{ (pid, cid, t, l, wid)\in W \mid \right. \\
    \left. pid = i, cid = j,
    t \subseteq t_j, l\subseteq l_j \right\},
  \end{multline}
  of all proof shares with the same protester and protest identifiers, witness 
  time interval \(t\) and location \(l\) is within those of the protest \(j\) 
  (i.e.\ \(t_j\) and \(l_j\)).
\end{definition}

We can now define the participation count as follows.
\begin{definition}[Participation count]
  We define the \emph{participation count} of a protest \(cid\) as the 
  cardinality \(|P_{cid}^{s,\theta}|\) of the set of participation proofs \[
    P_{cid}^{s,\theta} = \left\{ p_{i,j} \mid
      j = cid, s(p_{i,j})\geq \theta \right\}
  \] for some strength function \(s\colon \powerset(W)\to \R_+\) and a threshold 
  \(\theta\).
\end{definition}
The strength function \(s\) can be used to e.g.\ regulate trust in witnesses.
One example would be for \(s\) to return the number of proof shares (i.e.\ 
witnesses) and thus let \(\theta\) to be the threshold of the number of required 
witnesses.
